import{R as Q,j as e,r as s,k as Oe,b as Pe,c as _e,u as mt,l as ht,O as xt,f as vt,e as gt,t as St}from"./index-BbTZgOPh.js";import{C as Se}from"./container-BO_8Kck5.js";import{c as De,P as A,a as ke,u as Ee,R as wt,b as Ne,A as Ct,d as R,e as $,f as yt,g as bt,h as It,i as Tt,j as Nt,k as Rt,F as jt,D as Pt,C as _t,l as Et,m as Mt,n as At}from"./Combination-DgFmmm16.js";import{u as O,S as we,c as G,B as Ot}from"./button-BHCxSF1w.js";import{c as Re}from"./createLucideIcon-D0MALnN9.js";import{L as Dt}from"./link-CrF86Kb2.js";import"./tslib.es6-eMSY344_.js";/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Le=Re("ChevronDown",kt);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Vt=Re("ChevronUp",Lt);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],Ht=Re("UserRound",Bt);function Me(t,[n,o]){return Math.min(o,Math.max(n,t))}function Ut(t){const n=t+"CollectionProvider",[o,a]=De(n),[r,f]=o(n,{collectionRef:{current:null},itemMap:new Map}),i=C=>{const{scope:S,children:d}=C,h=Q.useRef(null),g=Q.useRef(new Map).current;return e.jsx(r,{scope:S,itemMap:g,collectionRef:h,children:d})};i.displayName=n;const c=t+"CollectionSlot",l=Q.forwardRef((C,S)=>{const{scope:d,children:h}=C,g=f(c,d),u=O(S,g.collectionRef);return e.jsx(we,{ref:u,children:h})});l.displayName=c;const p=t+"CollectionItemSlot",v="data-radix-collection-item",w=Q.forwardRef((C,S)=>{const{scope:d,children:h,...g}=C,u=Q.useRef(null),m=O(S,u),j=f(p,d);return Q.useEffect(()=>(j.itemMap.set(u,{ref:u,...g}),()=>void j.itemMap.delete(u))),e.jsx(we,{[v]:"",ref:m,children:h})});w.displayName=p;function N(C){const S=f(t+"CollectionConsumer",C);return Q.useCallback(()=>{const h=S.collectionRef.current;if(!h)return[];const g=Array.from(h.querySelectorAll(`[${v}]`));return Array.from(S.itemMap.values()).sort((j,E)=>g.indexOf(j.ref.current)-g.indexOf(E.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:i,Slot:l,ItemSlot:w},N,a]}var Ft=s.createContext(void 0);function zt(t){const n=s.useContext(Ft);return t||n||"ltr"}var Wt="VisuallyHidden",Ve=s.forwardRef((t,n)=>e.jsx(A.span,{...t,ref:n,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Ve.displayName=Wt;var Kt=[" ","Enter","ArrowUp","ArrowDown"],$t=[" ","Enter"],le="Select",[de,ue,Gt]=Ut(le),[oe,Fo]=De(le,[Gt,ke]),pe=ke(),[qt,q]=oe(le),[Yt,Xt]=oe(le),Be=t=>{const{__scopeSelect:n,children:o,open:a,defaultOpen:r,onOpenChange:f,value:i,defaultValue:c,onValueChange:l,dir:p,name:v,autoComplete:w,disabled:N,required:C,form:S}=t,d=pe(n),[h,g]=s.useState(null),[u,m]=s.useState(null),[j,E]=s.useState(!1),ne=zt(p),[P=!1,k]=Ee({prop:a,defaultProp:r,onChange:f}),[z,X]=Ee({prop:i,defaultProp:c,onChange:l}),V=s.useRef(null),B=h?S||!!h.closest("form"):!0,[W,H]=s.useState(new Set),U=Array.from(W).map(_=>_.props.value).join(";");return e.jsx(wt,{...d,children:e.jsxs(qt,{required:C,scope:n,trigger:h,onTriggerChange:g,valueNode:u,onValueNodeChange:m,valueNodeHasChildren:j,onValueNodeHasChildrenChange:E,contentId:Ne(),value:z,onValueChange:X,open:P,onOpenChange:k,dir:ne,triggerPointerDownPosRef:V,disabled:N,children:[e.jsx(de.Provider,{scope:n,children:e.jsx(Yt,{scope:t.__scopeSelect,onNativeOptionAdd:s.useCallback(_=>{H(L=>new Set(L).add(_))},[]),onNativeOptionRemove:s.useCallback(_=>{H(L=>{const F=new Set(L);return F.delete(_),F})},[]),children:o})}),B?e.jsxs(ut,{"aria-hidden":!0,required:C,tabIndex:-1,name:v,autoComplete:w,value:z,onChange:_=>X(_.target.value),disabled:N,form:S,children:[z===void 0?e.jsx("option",{value:""}):null,Array.from(W)]},U):null]})})};Be.displayName=le;var He="SelectTrigger",Ue=s.forwardRef((t,n)=>{const{__scopeSelect:o,disabled:a=!1,...r}=t,f=pe(o),i=q(He,o),c=i.disabled||a,l=O(n,i.onTriggerChange),p=ue(o),v=s.useRef("touch"),[w,N,C]=pt(d=>{const h=p().filter(m=>!m.disabled),g=h.find(m=>m.value===i.value),u=ft(h,d,g);u!==void 0&&i.onValueChange(u.value)}),S=d=>{c||(i.onOpenChange(!0),C()),d&&(i.triggerPointerDownPosRef.current={x:Math.round(d.pageX),y:Math.round(d.pageY)})};return e.jsx(Ct,{asChild:!0,...f,children:e.jsx(A.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":dt(i.value)?"":void 0,...r,ref:l,onClick:R(r.onClick,d=>{d.currentTarget.focus(),v.current!=="mouse"&&S(d)}),onPointerDown:R(r.onPointerDown,d=>{v.current=d.pointerType;const h=d.target;h.hasPointerCapture(d.pointerId)&&h.releasePointerCapture(d.pointerId),d.button===0&&d.ctrlKey===!1&&d.pointerType==="mouse"&&(S(d),d.preventDefault())}),onKeyDown:R(r.onKeyDown,d=>{const h=w.current!=="";!(d.ctrlKey||d.altKey||d.metaKey)&&d.key.length===1&&N(d.key),!(h&&d.key===" ")&&Kt.includes(d.key)&&(S(),d.preventDefault())})})})});Ue.displayName=He;var Fe="SelectValue",ze=s.forwardRef((t,n)=>{const{__scopeSelect:o,className:a,style:r,children:f,placeholder:i="",...c}=t,l=q(Fe,o),{onValueNodeHasChildrenChange:p}=l,v=f!==void 0,w=O(n,l.onValueNodeChange);return $(()=>{p(v)},[p,v]),e.jsx(A.span,{...c,ref:w,style:{pointerEvents:"none"},children:dt(l.value)?e.jsx(e.Fragment,{children:i}):f})});ze.displayName=Fe;var Zt="SelectIcon",We=s.forwardRef((t,n)=>{const{__scopeSelect:o,children:a,...r}=t;return e.jsx(A.span,{"aria-hidden":!0,...r,ref:n,children:a||"â–¼"})});We.displayName=Zt;var Jt="SelectPortal",Ke=t=>e.jsx(yt,{asChild:!0,...t});Ke.displayName=Jt;var ee="SelectContent",$e=s.forwardRef((t,n)=>{const o=q(ee,t.__scopeSelect),[a,r]=s.useState();if($(()=>{r(new DocumentFragment)},[]),!o.open){const f=a;return f?Oe.createPortal(e.jsx(Ge,{scope:t.__scopeSelect,children:e.jsx(de.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),f):null}return e.jsx(qe,{...t,ref:n})});$e.displayName=ee;var D=10,[Ge,Y]=oe(ee),Qt="SelectContentImpl",qe=s.forwardRef((t,n)=>{const{__scopeSelect:o,position:a="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:f,onPointerDownOutside:i,side:c,sideOffset:l,align:p,alignOffset:v,arrowPadding:w,collisionBoundary:N,collisionPadding:C,sticky:S,hideWhenDetached:d,avoidCollisions:h,...g}=t,u=q(ee,o),[m,j]=s.useState(null),[E,ne]=s.useState(null),P=O(n,x=>j(x)),[k,z]=s.useState(null),[X,V]=s.useState(null),B=ue(o),[W,H]=s.useState(!1),U=s.useRef(!1);s.useEffect(()=>{if(m)return Tt(m)},[m]),Nt();const _=s.useCallback(x=>{const[T,...M]=B().map(b=>b.ref.current),[I]=M.slice(-1),y=document.activeElement;for(const b of x)if(b===y||(b==null||b.scrollIntoView({block:"nearest"}),b===T&&E&&(E.scrollTop=0),b===I&&E&&(E.scrollTop=E.scrollHeight),b==null||b.focus(),document.activeElement!==y))return},[B,E]),L=s.useCallback(()=>_([k,m]),[_,k,m]);s.useEffect(()=>{W&&L()},[W,L]);const{onOpenChange:F,triggerPointerDownPosRef:K}=u;s.useEffect(()=>{if(m){let x={x:0,y:0};const T=I=>{var y,b;x={x:Math.abs(Math.round(I.pageX)-(((y=K.current)==null?void 0:y.x)??0)),y:Math.abs(Math.round(I.pageY)-(((b=K.current)==null?void 0:b.y)??0))}},M=I=>{x.x<=10&&x.y<=10?I.preventDefault():m.contains(I.target)||F(!1),document.removeEventListener("pointermove",T),K.current=null};return K.current!==null&&(document.addEventListener("pointermove",T),document.addEventListener("pointerup",M,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",T),document.removeEventListener("pointerup",M,{capture:!0})}}},[m,F,K]),s.useEffect(()=>{const x=()=>F(!1);return window.addEventListener("blur",x),window.addEventListener("resize",x),()=>{window.removeEventListener("blur",x),window.removeEventListener("resize",x)}},[F]);const[fe,ae]=pt(x=>{const T=B().filter(y=>!y.disabled),M=T.find(y=>y.ref.current===document.activeElement),I=ft(T,x,M);I&&setTimeout(()=>I.ref.current.focus())}),me=s.useCallback((x,T,M)=>{const I=!U.current&&!M;(u.value!==void 0&&u.value===T||I)&&(z(x),I&&(U.current=!0))},[u.value]),he=s.useCallback(()=>m==null?void 0:m.focus(),[m]),te=s.useCallback((x,T,M)=>{const I=!U.current&&!M;(u.value!==void 0&&u.value===T||I)&&V(x)},[u.value]),ce=a==="popper"?Ce:Ye,re=ce===Ce?{side:c,sideOffset:l,align:p,alignOffset:v,arrowPadding:w,collisionBoundary:N,collisionPadding:C,sticky:S,hideWhenDetached:d,avoidCollisions:h}:{};return e.jsx(Ge,{scope:o,content:m,viewport:E,onViewportChange:ne,itemRefCallback:me,selectedItem:k,onItemLeave:he,itemTextRefCallback:te,focusSelectedItem:L,selectedItemText:X,position:a,isPositioned:W,searchRef:fe,children:e.jsx(Rt,{as:we,allowPinchZoom:!0,children:e.jsx(jt,{asChild:!0,trapped:u.open,onMountAutoFocus:x=>{x.preventDefault()},onUnmountAutoFocus:R(r,x=>{var T;(T=u.trigger)==null||T.focus({preventScroll:!0}),x.preventDefault()}),children:e.jsx(Pt,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:f,onPointerDownOutside:i,onFocusOutside:x=>x.preventDefault(),onDismiss:()=>u.onOpenChange(!1),children:e.jsx(ce,{role:"listbox",id:u.contentId,"data-state":u.open?"open":"closed",dir:u.dir,onContextMenu:x=>x.preventDefault(),...g,...re,onPlaced:()=>H(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:R(g.onKeyDown,x=>{const T=x.ctrlKey||x.altKey||x.metaKey;if(x.key==="Tab"&&x.preventDefault(),!T&&x.key.length===1&&ae(x.key),["ArrowUp","ArrowDown","Home","End"].includes(x.key)){let I=B().filter(y=>!y.disabled).map(y=>y.ref.current);if(["ArrowUp","End"].includes(x.key)&&(I=I.slice().reverse()),["ArrowUp","ArrowDown"].includes(x.key)){const y=x.target,b=I.indexOf(y);I=I.slice(b+1)}setTimeout(()=>_(I)),x.preventDefault()}})})})})})})});qe.displayName=Qt;var eo="SelectItemAlignedPosition",Ye=s.forwardRef((t,n)=>{const{__scopeSelect:o,onPlaced:a,...r}=t,f=q(ee,o),i=Y(ee,o),[c,l]=s.useState(null),[p,v]=s.useState(null),w=O(n,P=>v(P)),N=ue(o),C=s.useRef(!1),S=s.useRef(!0),{viewport:d,selectedItem:h,selectedItemText:g,focusSelectedItem:u}=i,m=s.useCallback(()=>{if(f.trigger&&f.valueNode&&c&&p&&d&&h&&g){const P=f.trigger.getBoundingClientRect(),k=p.getBoundingClientRect(),z=f.valueNode.getBoundingClientRect(),X=g.getBoundingClientRect();if(f.dir!=="rtl"){const y=X.left-k.left,b=z.left-y,Z=P.left-b,J=P.width+Z,xe=Math.max(J,k.width),ve=window.innerWidth-D,ge=Me(b,[D,Math.max(D,ve-xe)]);c.style.minWidth=J+"px",c.style.left=ge+"px"}else{const y=k.right-X.right,b=window.innerWidth-z.right-y,Z=window.innerWidth-P.right-b,J=P.width+Z,xe=Math.max(J,k.width),ve=window.innerWidth-D,ge=Me(b,[D,Math.max(D,ve-xe)]);c.style.minWidth=J+"px",c.style.right=ge+"px"}const V=N(),B=window.innerHeight-D*2,W=d.scrollHeight,H=window.getComputedStyle(p),U=parseInt(H.borderTopWidth,10),_=parseInt(H.paddingTop,10),L=parseInt(H.borderBottomWidth,10),F=parseInt(H.paddingBottom,10),K=U+_+W+F+L,fe=Math.min(h.offsetHeight*5,K),ae=window.getComputedStyle(d),me=parseInt(ae.paddingTop,10),he=parseInt(ae.paddingBottom,10),te=P.top+P.height/2-D,ce=B-te,re=h.offsetHeight/2,x=h.offsetTop+re,T=U+_+x,M=K-T;if(T<=te){const y=V.length>0&&h===V[V.length-1].ref.current;c.style.bottom="0px";const b=p.clientHeight-d.offsetTop-d.offsetHeight,Z=Math.max(ce,re+(y?he:0)+b+L),J=T+Z;c.style.height=J+"px"}else{const y=V.length>0&&h===V[0].ref.current;c.style.top="0px";const Z=Math.max(te,U+d.offsetTop+(y?me:0)+re)+M;c.style.height=Z+"px",d.scrollTop=T-te+d.offsetTop}c.style.margin=`${D}px 0`,c.style.minHeight=fe+"px",c.style.maxHeight=B+"px",a==null||a(),requestAnimationFrame(()=>C.current=!0)}},[N,f.trigger,f.valueNode,c,p,d,h,g,f.dir,a]);$(()=>m(),[m]);const[j,E]=s.useState();$(()=>{p&&E(window.getComputedStyle(p).zIndex)},[p]);const ne=s.useCallback(P=>{P&&S.current===!0&&(m(),u==null||u(),S.current=!1)},[m,u]);return e.jsx(oo,{scope:o,contentWrapper:c,shouldExpandOnScrollRef:C,onScrollButtonChange:ne,children:e.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:e.jsx(A.div,{...r,ref:w,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})});Ye.displayName=eo;var to="SelectPopperPosition",Ce=s.forwardRef((t,n)=>{const{__scopeSelect:o,align:a="start",collisionPadding:r=D,...f}=t,i=pe(o);return e.jsx(_t,{...i,...f,ref:n,align:a,collisionPadding:r,style:{boxSizing:"border-box",...f.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ce.displayName=to;var[oo,je]=oe(ee,{}),ye="SelectViewport",Xe=s.forwardRef((t,n)=>{const{__scopeSelect:o,nonce:a,...r}=t,f=Y(ye,o),i=je(ye,o),c=O(n,f.onViewportChange),l=s.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),e.jsx(de.Slot,{scope:o,children:e.jsx(A.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...r.style},onScroll:R(r.onScroll,p=>{const v=p.currentTarget,{contentWrapper:w,shouldExpandOnScrollRef:N}=i;if(N!=null&&N.current&&w){const C=Math.abs(l.current-v.scrollTop);if(C>0){const S=window.innerHeight-D*2,d=parseFloat(w.style.minHeight),h=parseFloat(w.style.height),g=Math.max(d,h);if(g<S){const u=g+C,m=Math.min(S,u),j=u-m;w.style.height=m+"px",w.style.bottom==="0px"&&(v.scrollTop=j>0?j:0,w.style.justifyContent="flex-end")}}}l.current=v.scrollTop})})})]})});Xe.displayName=ye;var Ze="SelectGroup",[no,ro]=oe(Ze),Je=s.forwardRef((t,n)=>{const{__scopeSelect:o,...a}=t,r=Ne();return e.jsx(no,{scope:o,id:r,children:e.jsx(A.div,{role:"group","aria-labelledby":r,...a,ref:n})})});Je.displayName=Ze;var Qe="SelectLabel",et=s.forwardRef((t,n)=>{const{__scopeSelect:o,...a}=t,r=ro(Qe,o);return e.jsx(A.div,{id:r.id,...a,ref:n})});et.displayName=Qe;var ie="SelectItem",[so,tt]=oe(ie),ot=s.forwardRef((t,n)=>{const{__scopeSelect:o,value:a,disabled:r=!1,textValue:f,...i}=t,c=q(ie,o),l=Y(ie,o),p=c.value===a,[v,w]=s.useState(f??""),[N,C]=s.useState(!1),S=O(n,u=>{var m;return(m=l.itemRefCallback)==null?void 0:m.call(l,u,a,r)}),d=Ne(),h=s.useRef("touch"),g=()=>{r||(c.onValueChange(a),c.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(so,{scope:o,value:a,disabled:r,textId:d,isSelected:p,onItemTextChange:s.useCallback(u=>{w(m=>m||((u==null?void 0:u.textContent)??"").trim())},[]),children:e.jsx(de.ItemSlot,{scope:o,value:a,disabled:r,textValue:v,children:e.jsx(A.div,{role:"option","aria-labelledby":d,"data-highlighted":N?"":void 0,"aria-selected":p&&N,"data-state":p?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...i,ref:S,onFocus:R(i.onFocus,()=>C(!0)),onBlur:R(i.onBlur,()=>C(!1)),onClick:R(i.onClick,()=>{h.current!=="mouse"&&g()}),onPointerUp:R(i.onPointerUp,()=>{h.current==="mouse"&&g()}),onPointerDown:R(i.onPointerDown,u=>{h.current=u.pointerType}),onPointerMove:R(i.onPointerMove,u=>{var m;h.current=u.pointerType,r?(m=l.onItemLeave)==null||m.call(l):h.current==="mouse"&&u.currentTarget.focus({preventScroll:!0})}),onPointerLeave:R(i.onPointerLeave,u=>{var m;u.currentTarget===document.activeElement&&((m=l.onItemLeave)==null||m.call(l))}),onKeyDown:R(i.onKeyDown,u=>{var j;((j=l.searchRef)==null?void 0:j.current)!==""&&u.key===" "||($t.includes(u.key)&&g(),u.key===" "&&u.preventDefault())})})})})});ot.displayName=ie;var se="SelectItemText",nt=s.forwardRef((t,n)=>{const{__scopeSelect:o,className:a,style:r,...f}=t,i=q(se,o),c=Y(se,o),l=tt(se,o),p=Xt(se,o),[v,w]=s.useState(null),N=O(n,g=>w(g),l.onItemTextChange,g=>{var u;return(u=c.itemTextRefCallback)==null?void 0:u.call(c,g,l.value,l.disabled)}),C=v==null?void 0:v.textContent,S=s.useMemo(()=>e.jsx("option",{value:l.value,disabled:l.disabled,children:C},l.value),[l.disabled,l.value,C]),{onNativeOptionAdd:d,onNativeOptionRemove:h}=p;return $(()=>(d(S),()=>h(S)),[d,h,S]),e.jsxs(e.Fragment,{children:[e.jsx(A.span,{id:l.textId,...f,ref:N}),l.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Oe.createPortal(f.children,i.valueNode):null]})});nt.displayName=se;var rt="SelectItemIndicator",st=s.forwardRef((t,n)=>{const{__scopeSelect:o,...a}=t;return tt(rt,o).isSelected?e.jsx(A.span,{"aria-hidden":!0,...a,ref:n}):null});st.displayName=rt;var be="SelectScrollUpButton",lt=s.forwardRef((t,n)=>{const o=Y(be,t.__scopeSelect),a=je(be,t.__scopeSelect),[r,f]=s.useState(!1),i=O(n,a.onScrollButtonChange);return $(()=>{if(o.viewport&&o.isPositioned){let c=function(){const p=l.scrollTop>0;f(p)};const l=o.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[o.viewport,o.isPositioned]),r?e.jsx(ct,{...t,ref:i,onAutoScroll:()=>{const{viewport:c,selectedItem:l}=o;c&&l&&(c.scrollTop=c.scrollTop-l.offsetHeight)}}):null});lt.displayName=be;var Ie="SelectScrollDownButton",at=s.forwardRef((t,n)=>{const o=Y(Ie,t.__scopeSelect),a=je(Ie,t.__scopeSelect),[r,f]=s.useState(!1),i=O(n,a.onScrollButtonChange);return $(()=>{if(o.viewport&&o.isPositioned){let c=function(){const p=l.scrollHeight-l.clientHeight,v=Math.ceil(l.scrollTop)<p;f(v)};const l=o.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[o.viewport,o.isPositioned]),r?e.jsx(ct,{...t,ref:i,onAutoScroll:()=>{const{viewport:c,selectedItem:l}=o;c&&l&&(c.scrollTop=c.scrollTop+l.offsetHeight)}}):null});at.displayName=Ie;var ct=s.forwardRef((t,n)=>{const{__scopeSelect:o,onAutoScroll:a,...r}=t,f=Y("SelectScrollButton",o),i=s.useRef(null),c=ue(o),l=s.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return s.useEffect(()=>()=>l(),[l]),$(()=>{var v;const p=c().find(w=>w.ref.current===document.activeElement);(v=p==null?void 0:p.ref.current)==null||v.scrollIntoView({block:"nearest"})},[c]),e.jsx(A.div,{"aria-hidden":!0,...r,ref:n,style:{flexShrink:0,...r.style},onPointerDown:R(r.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(a,50))}),onPointerMove:R(r.onPointerMove,()=>{var p;(p=f.onItemLeave)==null||p.call(f),i.current===null&&(i.current=window.setInterval(a,50))}),onPointerLeave:R(r.onPointerLeave,()=>{l()})})}),lo="SelectSeparator",it=s.forwardRef((t,n)=>{const{__scopeSelect:o,...a}=t;return e.jsx(A.div,{"aria-hidden":!0,...a,ref:n})});it.displayName=lo;var Te="SelectArrow",ao=s.forwardRef((t,n)=>{const{__scopeSelect:o,...a}=t,r=pe(o),f=q(Te,o),i=Y(Te,o);return f.open&&i.position==="popper"?e.jsx(Et,{...r,...a,ref:n}):null});ao.displayName=Te;function dt(t){return t===""||t===void 0}var ut=s.forwardRef((t,n)=>{const{value:o,...a}=t,r=s.useRef(null),f=O(n,r),i=bt(o);return s.useEffect(()=>{const c=r.current,l=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(l,"value").set;if(i!==o&&v){const w=new Event("change",{bubbles:!0});v.call(c,o),c.dispatchEvent(w)}},[i,o]),e.jsx(Ve,{asChild:!0,children:e.jsx("select",{...a,ref:f,defaultValue:o})})});ut.displayName="BubbleSelect";function pt(t){const n=It(t),o=s.useRef(""),a=s.useRef(0),r=s.useCallback(i=>{const c=o.current+i;n(c),function l(p){o.current=p,window.clearTimeout(a.current),p!==""&&(a.current=window.setTimeout(()=>l(""),1e3))}(c)},[n]),f=s.useCallback(()=>{o.current="",window.clearTimeout(a.current)},[]);return s.useEffect(()=>()=>window.clearTimeout(a.current),[]),[o,r,f]}function ft(t,n,o){const r=n.length>1&&Array.from(n).every(p=>p===n[0])?n[0]:n,f=o?t.indexOf(o):-1;let i=co(t,Math.max(f,0));r.length===1&&(i=i.filter(p=>p!==o));const l=i.find(p=>p.textValue.toLowerCase().startsWith(r.toLowerCase()));return l!==o?l:void 0}function co(t,n){return t.map((o,a)=>t[(n+a)%t.length])}var io=Be,uo=Ue,po=ze,fo=We,mo=Ke,ho=$e,xo=Xe,vo=Je,go=et,So=ot,wo=nt,Co=st,yo=lt,bo=at,Io=it;function To({...t}){return e.jsx(io,{"data-slot":"select",...t})}function No({...t}){return e.jsx(vo,{"data-slot":"select-group",...t})}function Ro({...t}){return e.jsx(po,{"data-slot":"select-value",...t})}function jo({className:t,size:n="default",children:o,...a}){return e.jsxs(uo,{"data-slot":"select-trigger","data-size":n,className:G("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...a,children:[o,e.jsx(fo,{asChild:!0,children:e.jsx(Le,{className:"size-4 opacity-50"})})]})}function Po({className:t,children:n,position:o="popper",...a}){return e.jsx(mo,{children:e.jsxs(ho,{"data-slot":"select-content",className:G("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",o==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:o,...a,children:[e.jsx(Mo,{}),e.jsx(xo,{className:G("p-1",o==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:n}),e.jsx(Ao,{})]})})}function _o({className:t,...n}){return e.jsx(go,{"data-slot":"select-label",className:G("text-muted-foreground px-2 py-1.5 text-xs",t),...n})}function Ae({className:t,children:n,...o}){return e.jsxs(So,{"data-slot":"select-item",className:G("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...o,children:[e.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(Co,{children:e.jsx(Mt,{className:"size-4"})})}),e.jsx(wo,{children:n})]})}function Eo({className:t,...n}){return e.jsx(Io,{"data-slot":"select-separator",className:G("bg-border pointer-events-none -mx-1 my-1 h-px",t),...n})}function Mo({className:t,...n}){return e.jsx(yo,{"data-slot":"select-scroll-up-button",className:G("flex cursor-default items-center justify-center py-1",t),...n,children:e.jsx(Vt,{className:"size-4"})})}function Ao({className:t,...n}){return e.jsx(bo,{"data-slot":"select-scroll-down-button",className:G("flex cursor-default items-center justify-center py-1",t),...n,children:e.jsx(Le,{className:"size-4"})})}function Oo({onUserChange:t}){const n=Pe(_e,r=>r.users),o=Pe(_e,r=>r.currentUser),a=n.find(r=>r.name===o);return e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs(To,{value:o??void 0,onValueChange:t,children:[e.jsx(jo,{className:"w-[180px] bg-white",children:e.jsx(Ro,{placeholder:"Select an account",children:a?a.name:"Select a user"})}),e.jsxs(Po,{children:[e.jsxs(No,{children:[e.jsx(_o,{children:"Accounts"}),n.length>0?n.map(r=>e.jsx(Ae,{value:r.name,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ht,{size:16}),e.jsx("span",{children:r.name})]})},r.name)):e.jsx(Ae,{value:"no-users",disabled:!0,children:e.jsx("span",{className:"text-muted-foreground",children:"No accounts available"})})]}),e.jsx(Eo,{}),e.jsx(Ot,{size:"sm",className:"w-full hover:cursor-pointer",children:e.jsxs(Dt,{to:"/setup",className:"flex gap-1 items-center",search:!0,children:[e.jsx(At,{className:"mr-1",size:16}),"Add User"]})})]})]})})}const zo=function(){const n=mt(),[o,a]=s.useState(!1),{users:r,currentUser:f}=ht.useLoaderData(),i=async c=>{const l=r.find(p=>p.name===c);if(l){a(!0);try{await vt(l),gt.setCurrentUser(c),n.invalidate()}catch(p){console.error("Failed to switch user:",p),St.error(`Failed to switch to ${c}`)}finally{a(!1)}}};return e.jsxs("div",{className:"flex flex-col min-h-screen",children:[e.jsx("header",{className:"bg-sidebar border-b border-border",children:e.jsx(Se,{children:e.jsxs("div",{className:"flex justify-between items-center py-3",children:[e.jsx("h1",{className:"text-xl font-bold",children:"MuSig2 Platform"}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsx(Oo,{onUserChange:i})})]})})}),e.jsx("main",{className:"flex-1 bg-background",children:e.jsx(Se,{className:"py-6",children:e.jsx(xt,{})})}),e.jsx("footer",{className:"border-t border-border",children:e.jsx(Se,{children:e.jsxs("div",{className:"py-4 text-center text-sm text-muted-foreground",children:[e.jsxs("p",{children:["Connected as: ",f]}),e.jsxs("p",{children:["Total Users: ",r.length]})]})})})]})};export{zo as component};
